# File Identity Constitution  ## Purpose This document defines the canonical identity system for all code, sections, and tools in this repository. Its goal is to: - Eliminate duplication - Preserve lineage - Enable deterministic merging, standardization, and extraction - Minimize token usage for both humans and LLMs  This constitution governs identity only. Behavior and execution are handled elsewhere.  ---  ## Core Identity Objects  ### 1. CID — Capability ID **What it is:**   A semantic identifier describing *what job is being done*, independent of implementation.  **Constitution:** CID = <ENV>.<NOUN>.<OBJECT>  **Examples:** - WEB.DOC.PDF - DATA.SQLITE.MIGRATION - SYS.FILE.REGISTRY  **Rules:** - No hashes - No versioning - Stable forever - Same job → same CID  CID answers: *"What kind of thing is this?"*  ---  ### 2. SID — Section ID **What it is:**   An identifier for a specific job **within a file**, before extraction.  **Constitution:** SID = <CID>|<CAPABILITY>|<ORDINAL>  **Examples:** - WEB.DOC.PDF|render_pdf|03 - DATA.SQLITE.MIGRATION|apply_schema|01  **Rules:** - No hashes - Unique only within a file - May disappear when sections merge or are extracted - One job → one surviving SID after standardization  SID answers: *"What job does this section do here?"*  ---  ### 3. PYN — Persistent Yield Node **What it is:**   A fully standardized, reusable unit (a true ingredient).  **Constitution:** PYN = <SID_CANON>|<HASH>|<PARENT_PYN_HASH?>  **Rules:** - Has its own content hash - Includes hash of parent PYN if derived (lineage) - Generation 0 PYNs have no parent hash - Once created, PYNs are never rewritten—only versioned  PYN answers: *"What reusable thing exists forever?"*  ---  ## Hashing & Lineage  ### Content Hash - Deterministic hash of normalized content - Used for equality, versioning, and optimization detection  ### Lineage Rule - A PYN stores **only the hash of its direct parent PYN** - No grandparent chaining needed - Full ancestry is recoverable recursively  This keeps identity compact and traceable.  ---  ## Metadata Metadata is attached, not embedded.  Includes: - CID - SID (if applicable) - PYN - Hashes - Generation - Timestamps - Source file references  Metadata is consumed by annotators, registries, and LLM agents.  ---  ## Lifecycle Rules  1. New code → assigned CID + SID 2. Similar SIDs → merged & standardized 3. Stable, dominant SID → extracted into PYN 4. Future variants → compared against PYN 5. Inferior variants → discarded or rewritten to PYN  Goal: **stop rewriting code, start composing systems**  ---  ## Final Principle Identity precedes implementation.  If identity is correct: - Merging is cheap - Extraction is obvious - Lineage is provable - Token usage collapses  This constitution is immutable.

